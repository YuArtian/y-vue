{"version":3,"file":"vue.js","sources":["../../src/util/index.js","../../src/observer/array.js","../../src/observer/index.js","../../src/state.js","../../src/compiler/index.js","../../src/init.js","../../src/index.js"],"sourcesContent":["\nexport function isObject (data) {\n  return typeof data === 'object' && data !== null\n}\n//将属性变为不可枚举的\nexport function def(data, key, value){\n  Object.defineProperty(data, key, {\n    enumerable: false,\n    configurable: false,\n    value,\n  })\n}","\n\nconst oldArrayMethods = Array.prototype\n// data.__proto__ = arrayMethods\n// arrayMethods.__proto__ = oldArrayMethods = Array.prototype 利用原型链的查找，进行函数劫持\nexport const arrayMethods = Object.create(oldArrayMethods)\n//重写 7 个可以改变数组本身的方法 pop、shift、unshift、push、reverse、splice、sort\nconst methods = ['pop','shift','unshift','push','reverse','splice','sort']\n\nmethods.forEach(method => {\n  arrayMethods[method] = function(...args){\n    //AOP 切片编程\n    console.log('用户改变了数组')\n    const result = oldArrayMethods[method].apply(this, args)\n    //如果插入的元素是对象\n    let inserted\n    //拿到实例\n    let ob = this.__ob__;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args\n        break;\n      case 'splice':\n        inserted = args.slice(2)\n        break;\n      default:\n        break;\n    }\n    if (inserted) {\n      //继续观测新增的属性\n      ob.observeArray(inserted)\n    }\n    return result\n  }\n})","import { isObject, def } from '../util/index'\nimport { arrayMethods } from './array'\n\nclass Observer {\n  constructor(data){\n    //会引发死循环\n    // data.__ob__ = this;\n    def(data, '__ob__', this)\n    if (Array.isArray(data)) {\n      //重写数组的部分方法\n      data.__proto__ = arrayMethods\n      //数组的劫持 只劫持数组中的 对象\n      this.observeArray(data)\n    } else {\n      this.walk(data)\n    }\n  }\n  walk(data){\n    let keys = Object.keys(data)\n    keys.forEach(key => {\n      defineReactive(data, key, data[key])\n    })\n  }\n  //处理数组\n  observeArray(data){\n    data.forEach(value => {\n      observe(value)\n    })\n  }\n}\n\nfunction defineReactive(data, key, value){\n  observe(value)\n  Object.defineProperty(data, key, {\n    get(){\n      return value\n    },\n    set(newValue){\n      if (newValue === value) return\n      observe(newValue)\n      console.log('值发生变化了')\n      value = newValue\n    }\n  })\n}\n\n// Object.defineProperty 不兼容 ie8\nexport function observe (data) {\n  if (!isObject(data)) {\n    return\n  }\n  new Observer(data)\n}","import { observe } from './observer/index'\n\nexport function initState (vm) {\n  const opts = vm.$options\n  //vue 的数据来源 属性 方法 数据 计算属性 watch\n  //初始化 属性\n  if (opts.props) {\n    initProps(vm)\n  }\n  //初始化 方法\n  if (opts.methods) {\n    initMethod(vm)\n  }\n  //初始化 数据\n  if (opts.data) {\n    initData(vm)\n  }\n  if (opts.computed) {\n    initComputed(vm)\n  }\n  if (opts.watch) {\n    initWatch(vm)\n  }\n}\n\n\nfunction initProps(){}\nfunction initMethod(){}\n\nfunction initData(vm){\n  let data = vm.$options.data\n  data = vm._data = typeof data === 'function' ? data.call(vm) : data\n\n  //数据劫持\n  observe(data);\n\n}\n\nfunction initComputed(){}\nfunction initWatch(){}","//利用正则匹配解析template生成AST\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\nlet root = null;\nlet currentParent;\nlet stack = []\nconst ELEMENT_TYPE = 1\nconst TEXT_TYPE = 3\n\nfunction createASTElement(tagName, attrs){\n  return {\n    tag: tagName,\n    type: ELEMENT_TYPE,\n    children: [],\n    attrs,\n    parent: null\n  }\n\n}\n\nfunction chars(text){\n  text = text.replace(/\\s/g,'')\n  if (text) {\n    currentParent.children.push({\n      text,\n      type: TEXT_TYPE\n    })\n  }\n}\n\nfunction start(tagName, attrs){\n  let element = createASTElement(tagName, attrs)\n  if (!root) {\n    root = element\n  }\n  currentParent = element\n  stack.push(element)\n}\n\nfunction end(tagName){\n  //弹出最后一个元素 进行匹配\n  let element = stack.pop()\n  //判断标签闭合是否正确\n  if (tagName === element.tag) {\n    //判断父节点\n    currentParent = stack[stack.length-1]\n    //实现树结构的父子关系\n    if (currentParent) {\n      element.parent = currentParent\n      currentParent.children.push(element)\n    }\n  }\n}\n\nfunction parseHTML(html){\n  //递归循环解析 html 模板\n  while(html){\n    let textEnd = html.indexOf('<');\n    if (textEnd === 0) {\n      //解析开始标签\n      let startTagMatch = parseStartTag()\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs)\n        //开始标签匹配完成之后 可以直接进行下一次匹配\n        continue\n      }\n      let endTagMatch = html.match(endTag)\n      if (endTagMatch) {\n        advance(endTagMatch[0].length)\n        end(endTagMatch[1])\n        //进行下一次匹配\n        continue;\n      }\n    }\n    //解析开始标签到下一个标签之间的文本 <div id='app'> xxxxxxxxxx <\n    let text\n    if (textEnd >= 0) {\n      text = html.substring(0, textEnd)\n    }\n    if (text) {\n      chars(text)\n      advance(text.length)\n    }\n  }\n  //去除已经解析完的html片段\n  function advance(n){\n    html = html.substring(n)\n  }\n  //解析开始标签\n  function parseStartTag(){\n    let start = html.match(startTagOpen)\n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: []\n      }\n      //start[0] 是解析出来的开始标签 <div\n      advance(start[0].length)\n      //开始解析属性\n      //如果直接是结束标签 就不需要解析属性了\n      let end, attr;\n      while(!(end = html.match(startTagClose)) && (attr = html.match(attribute))){\n        //将已经匹配好的属性去掉\n        advance(attr[0].length)\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[5]\n        });\n      }\n      //如果结束了 返回匹配结果\n      if (end) {\n        advance(end[0].length)\n        return match\n      }\n    }\n  }\n  return root\n}\n\n\nexport function compileToFunction(template){\n  let root = parseHTML(template)\n  console.log('root',root)\n  return function render(){\n\n  }\n}","import { initState } from './state'\nimport { compileToFunction } from './compiler/index'\n\nexport function initMixin(Vue){\n  //初始化\n  Vue.prototype._init = function(options){\n    //数据劫持\n    const vm = this\n    vm.$options = options\n    //初始化状态\n    initState(vm)\n\n    //如果用户传入了 el\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el)\n    }\n  }\n\n  //挂载\n  Vue.prototype.$mount = function(el){\n    const vm = this\n    const options = vm.$options\n    el = document.querySelector(el)\n    //找render方法、没有则用template、再没有就直接用el中的内容\n    if (!options.render) {\n      let template = options.template\n      if (!template && el) {\n        template = el.outerHTML\n      }\n      console.log('template-------',template)\n      //生成render方法\n      const render = compileToFunction(template)\n      options.render = render\n    }\n\n\n  }\n}","import { initMixin } from './init'\n\nfunction Vue (options) {\n  this._init(options)\n}\n\ninitMixin(Vue)\n\nexport default Vue"],"names":["isObject","data","def","key","value","Object","defineProperty","enumerable","configurable","oldArrayMethods","Array","prototype","arrayMethods","create","methods","forEach","method","console","log","args","result","apply","inserted","ob","__ob__","slice","observeArray","Observer","isArray","__proto__","walk","keys","defineReactive","observe","get","set","newValue","initState","vm","opts","$options","props","initData","computed","watch","_data","call","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","root","currentParent","stack","ELEMENT_TYPE","TEXT_TYPE","createASTElement","tagName","attrs","tag","type","children","parent","chars","text","replace","push","start","element","end","pop","length","parseHTML","html","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","compileToFunction","template","render","initMixin","Vue","_init","options","el","$mount","document","querySelector","outerHTML"],"mappings":"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"}