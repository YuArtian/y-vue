{"version":3,"file":"vue.js","sources":["../../src/util/index.js","../../src/observer/array.js","../../src/observer/dep.js","../../src/observer/index.js","../../src/state.js","../../src/compiler/parser-html.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/util/nextTick.js","../../src/observer/schedular.js","../../src/observer/watcher.js","../../src/vdom/patch.js","../../src/lifeCycle.js","../../src/init.js","../../src/vdom/create-element.js","../../src/render.js","../../src/initGlobalAPI/mixin.js","../../src/initGlobalAPI/const.js","../../src/initGlobalAPI/assets.js","../../src/initGlobalAPI/extend.js","../../src/initGlobalAPI/index.js","../../src/index.js"],"sourcesContent":["export function isObject(data) {\n  return typeof data === \"object\" && data !== null;\n}\n//将属性变为不可枚举的\nexport function def(data, key, value) {\n  Object.defineProperty(data, key, {\n    enumerable: false,\n    configurable: false,\n    value,\n  });\n}\n//代理\nexport function proxy(vm, source, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[source][key];\n    },\n    set(newValue) {\n      vm[source][key] = newValue;\n    },\n  });\n}\n//生命周期方法\nconst LIFECYCLE_HOOKS = [\n  \"beforeCreate\",\n  \"created\",\n  \"beforeMount\",\n  \"mounted\",\n  \"beforeUpdate\",\n  \"updated\",\n  \"beforeDestroy\",\n  \"destroyed\",\n];\n//策略\nlet strats = {};\n\n//注册生命周期的合并策略\nLIFECYCLE_HOOKS.forEach((hook) => {\n  strats[hook] = mergeHook;\n});\n//组件的合并策略\nstrats.components = mergeAssets;\nfunction mergeAssets(parentVal, childVal) {\n  const res = Object.create(parentVal);\n  if (childVal) {\n    for (const key in childVal) {\n      res[key] = childVal[key];\n    }\n  }\n  return res;\n}\n\nfunction mergeHook(parentVal, childVal) {\n  if (childVal) {\n    if (parentVal) {\n      return parentVal.concat(childVal);\n    } else {\n      return [childVal];\n    }\n  } else {\n    return parentVal;\n  }\n}\n\n//合并\nexport function mergeOptions(parent, child) {\n  const options = {};\n  for (const key in parent) {\n    if (parent.hasOwnProperty(key)) {\n      mergeField(key);\n    }\n  }\n  for (const key in child) {\n    if (child.hasOwnProperty(key) && !parent.hasOwnProperty(key)) {\n      mergeField(key);\n    }\n  }\n  //浅合并\n  function mergeField(key) {\n    //如果有策略的话 就执行策略\n    if (strats[key]) {\n      return (options[key] = strats[key](parent[key], child[key]));\n    }\n    //默认的合并策略\n    if (typeof parent[key] === \"object\" && typeof child[key] === \"object\") {\n      options[key] = {\n        ...parent[key],\n        ...child[key],\n      };\n    } else if (child[key] == null) {\n      options[key] = parent[key];\n    } else {\n      options[key] = child[key];\n    }\n  }\n  return options;\n}\n\n//判断是否是原始标签\nexport const isReservedTag = (tagName) => {\n  let str = \"p,div,span,input,button\";\n  let obj = {};\n  str.split(\",\").forEach((tag) => {\n    obj[tag] = true;\n  });\n\n  return obj[tagName];\n};\n","\n\nconst oldArrayMethods = Array.prototype\n// data.__proto__ = arrayMethods\n// arrayMethods.__proto__ = oldArrayMethods = Array.prototype 利用原型链的查找，进行函数劫持\nexport const arrayMethods = Object.create(oldArrayMethods)\n//重写 7 个可以改变数组本身的方法 pop、shift、unshift、push、reverse、splice、sort\nconst methods = ['pop','shift','unshift','push','reverse','splice','sort']\n\nmethods.forEach(method => {\n  arrayMethods[method] = function(...args){\n    //AOP 切片编程\n    console.log('用户改变了数组')\n    const result = oldArrayMethods[method].apply(this, args)\n    //如果插入的元素是对象\n    let inserted\n    //拿到实例\n    let ob = this.__ob__;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args\n        break;\n      case 'splice':\n        inserted = args.slice(2)\n        break;\n      default:\n        break;\n    }\n    if (inserted) {\n      //继续观测新增的属性\n      ob.observeArray(inserted)\n    }\n    //通知视图更新\n    console.log('ob',ob)\n    ob.dep.notify();\n    return result\n  }\n})","let id = 0\nclass Dep {\n  constructor(){\n    this.id = id++\n    //管理 watcher 的队列\n    this.subs = []\n  }\n  //依赖收集\n  depend(){\n    //this.subs.push(Dep.target)\n    //在 watcher 中添加 dep\n    Dep.target.addDep(this)\n  }\n  //派发更新\n  notify(){\n    this.subs.forEach(watcher => watcher.update())\n  }\n  //添加 watcher 到 Dep\n  addSub(watcher){\n    this.subs.push(watcher)\n  }\n}\n\n//存储 watcher 的栈\nlet stack = []\n//新增\nexport function pushTarget(watcher){\n  Dep.target = watcher\n  stack.push(watcher)\n}\n//移除当前的 切换到下一个 watcher\nexport function popTarget(){\n  stack.pop()\n  Dep.target = stack[stack.length - 1]\n}\n\nexport default Dep","import { isObject, def } from '../util/index'\nimport { arrayMethods } from './array'\nimport Dep from './dep'\n\nclass Observer {\n  constructor(data){\n    //为数组单独声明的 dep\n    this.dep = new Dep();\n    //会引发死循环 data.__ob__ = this;\n    def(data, '__ob__', this)\n    if (Array.isArray(data)) {\n      //重写数组的部分方法\n      data.__proto__ = arrayMethods\n      //数组的劫持 只劫持数组中的 对象\n      this.observeArray(data)\n    } else {\n      this.walk(data)\n    }\n  }\n  walk(data){\n    let keys = Object.keys(data)\n    keys.forEach(key => {\n      defineReactive(data, key, data[key])\n    })\n  }\n  //处理数组\n  observeArray(data){\n    data.forEach(value => {\n      observe(value)\n    })\n  }\n}\n\nfunction defineReactive(data, key, value){\n  //每个对象属性上都有一个 dep，来记录 watcher（这个dep是给对象用的）\n  let dep = new Dep()\n  let childOb = observe(value)\n  Object.defineProperty(data, key, {\n    configurable: true,\n    enumerable: true,\n    get(){\n      //在取值的时候 将当前的属性和 watcher 对应起来\n      if (Dep.target) {\n        dep.depend()\n        if (childOb) {\n          //收集对象 和 数组 的依赖\n          childOb.dep.depend()\n          if (Array.isArray(value)) {\n            dependArray(value)\n          }\n        }\n      }\n      return value\n    },\n    set(newValue){\n      if (newValue === value) return\n      observe(newValue)\n      value = newValue\n      dep.notify()\n    }\n  })\n}\nfunction dependArray(value){\n  for(let i =0; i < value.length;i++){\n    let current = value[i]; // 将数组中的每一个都取出来，数据变化后 也去更新视图\n    // 数组中的数组的依赖收集\n    current.__ob__ && current.__ob__.dep.depend();\n    if(Array.isArray(current)){\n      dependArray(current);\n    }\n  }\n}\n// Object.defineProperty 不兼容 ie8\nexport function observe (data) {\n  if (!isObject(data)) return\n  return new Observer(data)\n}","import { observe } from './observer/index'\nimport { proxy } from './util/index'\n\nexport function initState (vm) {\n  const opts = vm.$options\n  //vue 的数据来源 属性 方法 数据 计算属性 watch\n  //初始化 属性\n  if (opts.props) {\n    initProps(vm)\n  }\n  //初始化 方法\n  if (opts.methods) {\n    initMethod(vm)\n  }\n  //初始化 数据\n  if (opts.data) {\n    initData(vm)\n  }\n  if (opts.computed) {\n    initComputed(vm)\n  }\n  if (opts.watch) {\n    initWatch(vm)\n  }\n}\n\n\nfunction initProps(){}\nfunction initMethod(){}\n\n/* 代理数据到vm */\n\n/* 数据初始化 */\nfunction initData(vm){\n  let data = vm.$options.data\n  data = vm._data = typeof data === 'function' ? data.call(vm) : data\n  //代理 data 到 vm 上，方便取值\n  for(let key in data){\n    proxy(vm, '_data', key)\n  }\n  //数据劫持\n  observe(data);\n}\n\nfunction initComputed(){}\nfunction initWatch(){}","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // abc-aaa\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // <aaa:asdads>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >  <div>\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n\nexport function parseHTML(html) {\n  let root = null; // ast语法树的树根\n  let currentParent; // 标识当前父亲是谁\n  let stack = [];\n  const ELEMENT_TYPE = 1;\n  const TEXT_TYPE = 3;\n\n  function createASTElement(tagName, attrs) {\n    return {\n      tag: tagName,\n      type: ELEMENT_TYPE,\n      children: [],\n      attrs,\n      parent: null,\n    };\n  }\n\n  function start(tagName, attrs) {\n    // 遇到开始标签 就创建一个ast元素s\n    let element = createASTElement(tagName, attrs);\n    if (!root) {\n      root = element;\n    }\n    currentParent = element; // 把当前元素标记成父ast树\n    stack.push(element); // 将开始标签存放到栈中\n  }\n\n  function chars(text) {\n    text = text.replace(/\\s/g, \"\");\n    if (text) {\n      currentParent.children.push({\n        text,\n        type: TEXT_TYPE,\n      });\n    }\n  }\n\n  function end(tagName) {\n    let element = stack.pop(); // 拿到的是ast对象\n    // 我要标识当前这个p是属于这个div的儿子的\n    currentParent = stack[stack.length - 1];\n    if (currentParent) {\n      element.parent = currentParent;\n      currentParent.children.push(element); // 实现了一个树的父子关系\n    }\n  }\n  // 不停的去解析html字符串\n  while (html) {\n    let textEnd = html.indexOf(\"<\");\n    if (textEnd == 0) {\n      // 如果当前索引为0 肯定是一个标签 开始标签 结束标签\n      let startTagMatch = parseStartTag(); // 通过这个方法获取到匹配的结果 tagName,attrs\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs); // 1解析开始标签\n        continue; // 如果开始标签匹配完毕后 继续下一次 匹配\n      }\n      let endTagMatch = html.match(endTag);\n      if (endTagMatch) {\n        advance(endTagMatch[0].length);\n        end(endTagMatch[1]); // 2解析结束标签\n        continue;\n      }\n    }\n    let text;\n    if (textEnd >= 0) {\n      text = html.substring(0, textEnd);\n    }\n    if (text) {\n      advance(text.length);\n      chars(text); // 3解析文本\n    }\n  }\n\n  function advance(n) {\n    html = html.substring(n);\n  }\n\n  function parseStartTag() {\n    let start = html.match(startTagOpen);\n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: [],\n      };\n      advance(start[0].length); // 将标签删除\n      let end, attr;\n      while (\n        !(end = html.match(startTagClose)) &&\n        (attr = html.match(attribute))\n      ) {\n        // 将属性进行解析\n        advance(attr[0].length); // 将属性去掉\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[5],\n        });\n      }\n      if (end) {\n        // 去掉开始标签的 >\n        advance(end[0].length);\n        return match;\n      }\n    }\n  }\n  return root;\n}\n","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\nfunction genProps(attrs) {\n  // 处理属性 拼接成属性的字符串\n  let str = \"\";\n  for (let i = 0; i < attrs.length; i++) {\n    let attr = attrs[i];\n    if (attr.name === \"style\") {\n      // style=\"color: red;fontSize:14px\" => {style:{color:'red'},id:name,}\n      let obj = {};\n      attr.value.split(\";\").forEach((item) => {\n        let [key, value] = item.split(\":\");\n        obj[key] = value;\n      });\n      attr.value = obj;\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`;\n  }\n  return `{${str.slice(0, -1)}}`;\n}\nfunction genChildren(el) {\n  let children = el.children;\n  if (children && children.length > 0) {\n    return `${children.map((c) => gen(c)).join(\",\")}`;\n  } else {\n    return false;\n  }\n}\nfunction gen(node) {\n  if (node.type == 1) {\n    // 元素标签\n    return generate(node);\n  } else {\n    let text = node.text; //   <div>a {{  name  }} b{{age}} c</div>\n    let tokens = [];\n    let match, index;\n    // 每次的偏移量 buffer.split()\n    let lastIndex = (defaultTagRE.lastIndex = 0); // 只要是全局匹配 就需要将lastIndex每次匹配的时候调到0处\n    while ((match = defaultTagRE.exec(text))) {\n      index = match.index;\n      if (index > lastIndex) {\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n      }\n      tokens.push(`_s(${match[1].trim()})`);\n      lastIndex = index + match[0].length;\n    }\n    if (lastIndex < text.length) {\n      tokens.push(JSON.stringify(text.slice(lastIndex)));\n    }\n    return `_v(${tokens.join(\"+\")})`;\n  }\n}\nexport function generate(el) {\n  // [{name:'id',value:'app'},{}]  {id:app,a:1,b:2}\n  let children = genChildren(el);\n  let code = `_c(\"${el.tag}\",${\n    el.attrs.length ? genProps(el.attrs) : \"undefined\"\n  }${children ? `,${children}` : \"\"})\n    `;\n  return code;\n}\n","// ast语法树 是用对象来描述原生语法的   虚拟dom 用对象来描述dom节点的\n// ?: 匹配不捕获\n// argumens[0] = 匹配到的标签  arguments[1] 匹配到的标签名字\nimport { parseHTML } from \"./parser-html\";\nimport { generate } from \"./generate\";\nexport function compileToFunction(template) {\n  // 1) 解析html字符串 将html字符串 => ast语法树\n  let root = parseHTML(template);\n  // 需要将ast语法树生成最终的render函数  就是字符串拼接 （模板引擎）\n  let code = generate(root);\n  // 核心思路就是将模板转化成 下面这段字符串\n  //  <div id=\"app\"><p>hello {{name}}</p> hello</div>\n  // 将ast树 再次转化成js的语法\n  //  _c(\"div\",{id:app},_c(\"p\",undefined,_v('hello' + _s(name) )),_v('hello'))\n\n  // 所有的模板引擎实现 都需要new Function + with\n  let renderFn = new Function(`with(this){ return ${code}}`);\n\n  // vue的render 他返回的是虚拟dom\n  return renderFn;\n}\n","//nextTick\nlet callbacks = []\n// [flushSchedularQueue,userNextTick]\nlet waiting = false;\nfunction flushCallback(){\n  callbacks.forEach(cb=>cb());\n  waiting = false;\n  callbacks = [];\n}\nexport function nextTick(cb){\n  // 多次调用nextTick 如果没有刷新的时候 就先把他放到数组中,\n  // 刷新后 更改waiting\n  callbacks.push(cb);\n  if(waiting === false){\n    setTimeout(flushCallback, 0);\n    waiting = true;\n  }\n}","import { nextTick } from '../util/nextTick'\n\n/* 更新队列 以及 watcher 去重 */\nlet queue = []\nlet has = {}\n\nfunction flushSchedularQueue(){\n  queue.forEach(watcher => watcher.run())\n  queue = []\n  has = {}\n}\n\nexport function queueWatcher(watcher){\n  const id = watcher.id\n  if (has[id] == null) {\n    queue.push(watcher)\n    has[id] = true\n    //Vue.nextTick\n    nextTick(flushSchedularQueue)\n  }\n}","import { pushTarget, popTarget } from './dep'\nimport { queueWatcher } from './schedular'\n\nlet id = 0\nclass Watcher {\n  constructor(vm, exprOrFn, callback, options){\n    this.vm = vm\n    this.callback = callback\n    this.options = options\n    this.getter = exprOrFn\n    this.id = id++\n    this.depsId = new Set()\n    this.deps = []\n    //get方法 执行渲染watcher\n    this.get()\n  }\n  //get方法 执行渲染watcher\n  get(){\n    //存入 watcher\n    pushTarget(this)\n    //执行 watcher 开始渲染 渲染的时候就会对页面进行取值操作\n    this.getter()\n    //推出 watcher\n    popTarget()\n  }\n  //执行更新\n  update(){\n    //this.get()\n    //异步更新 加入更新队列\n    queueWatcher(this)\n  }\n  //添加dep\n  addDep(dep){\n    let id = dep.id\n    //dep去重\n    if (!this.depsId.has(id)) {\n      this.depsId.add(id)\n      this.deps.push(dep)\n      //在 Dep 中添加当前 watcher\n      dep.addSub(this)\n    }\n  }\n  //异步更新\n  run(){\n    this.get()\n  }\n}\n\nexport default Watcher","export function patch(oldVnode, vnode) {\n  //如果没有 oldVnode 就是组件挂载\n  if (!oldVnode) {\n    //通过当前虚拟节点创建元素\n    return createElm(vnode);\n  } else {\n    //如果是真实元素 就是首次渲染\n    const isRealElement = oldVnode.nodeType;\n    if (isRealElement) {\n      const oldElm = oldVnode;\n      const parentElm = oldElm.parentNode;\n      //创建元素\n      let el = createElm(vnode);\n      //插入元素，再删除之前的\n      parentElm.insertBefore(el, oldElm.nextSibling);\n      parentElm.removeChild(oldElm);\n      return el;\n    }\n  }\n  //递归创建真实节点\n}\nfunction createElm(vnode) {\n  // 根据虚拟节点创建真实的节点\n  let { tag, children, key, data, text } = vnode;\n  // 是标签就创建标签\n  if (typeof tag === \"string\") {\n    //如果是组件 就实例化组件\n    if (createComponent(vnode)) {\n      return vnode.componentInstance.$el\n    }\n    vnode.el = document.createElement(tag);\n    updateProperties(vnode);\n    children.forEach((child) => {\n      // 递归创建儿子节点，将儿子节点扔到父节点中\n      return vnode.el.appendChild(createElm(child));\n    });\n  } else {\n    // 虚拟dom上映射着真实dom  方便后续更新操作\n    vnode.el = document.createTextNode(text);\n  }\n  // 如果不是标签就是文本\n  return vnode.el;\n}\n// 更新属性\nfunction updateProperties(vnode) {\n  let newProps = vnode.data;\n  let el = vnode.el;\n  for (let key in newProps) {\n    if (key === \"style\") {\n      for (let styleName in newProps.style) {\n        el.style[styleName] = newProps.style[styleName];\n      }\n    } else if (key === \"class\") {\n      el.className = newProps.class;\n    } else {\n      el.setAttribute(key, newProps[key]);\n    }\n  }\n}\n\n//创建组件\nfunction createComponent(vnode){\n  let i = vnode.data\n  //如果 vnode.data.hook.init 存在，就认为是组件，执行组件初始化\n  if ((i = i.hook) && (i = i.init)) {\n    i(vnode)\n  }\n  //执行完成后 如果有 componentInstance 属性则是组件\n  if (vnode.componentInstance) {\n    return true\n  }\n}\n","import Watcher from './observer/watcher'\nimport { patch } from './vdom/patch'\n\nexport function lifeCycleMixin(Vue){\n  Vue.prototype._update = function(vnode){\n    const vm = this\n    //用vnode创建真实节点，替换 $el，实现初渲染\n    vm.$el = patch(vm.$el, vnode)\n  }\n}\n\nexport function mountComponent(vm, el){\n  const options = vm.$options\n  vm.$el = el//存储真实的元素\n  //beforeMount 生命周期\n  callHook(vm, 'beforeMount')\n  //渲染页面\n  //渲染和更新都会调用 updateComponent\n  let updateComponent = () => {\n    //返回虚拟dom\n    console.log('update')\n    vm._update(vm._render())\n  }\n  //渲染 watcher\n  new Watcher(vm, updateComponent, ()=>{}, true)//渲染watcher标志为true\n  callHook(vm, 'mounted')\n}\n/* 调用钩子 */\nexport function callHook(vm, hook){\n  const handlers = vm.$options[hook]\n  if (handlers) {\n    for (let index = 0; index < handlers.length; index++) {\n      handlers[index].call(vm)\n    }\n  }\n}","import { initState } from './state'\nimport { compileToFunction } from './compiler/index'\nimport { mountComponent, callHook } from './lifeCycle'\nimport { mergeOptions } from './util/index'\nimport { nextTick } from './util/nextTick'\n\nexport function initMixin(Vue){\n  //初始化\n  Vue.prototype._init = function(options){\n    //数据劫持\n    const vm = this\n    //合并用户实例中的 options 和 全局的 options\n    vm.$options = mergeOptions(vm.constructor.options, options)\n    //beforeCreate 生命周期\n    callHook(vm, 'beforeCreate')\n    //初始化状态\n    initState(vm)\n    //created 生命周期\n    callHook(vm, 'created')\n    //如果用户传入了 el\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el)\n    }\n  }\n\n  //挂载\n  Vue.prototype.$mount = function(el){\n    const vm = this;\n    const options = vm.$options;\n    el = document.querySelector(el);\n    //找render方法、没有则用template、再没有就直接用el中的内容\n    if (!options.render) {\n      let template = options.template\n      if (!template && el) {\n        template = el.outerHTML\n      }\n      //生成render方法\n      const render = compileToFunction(template)\n      options.render = render\n    }\n    //生成了render函数之后，开始挂载组件\n    mountComponent(vm, el)\n  }\n  //用户调用的nextTick\n  Vue.prototype.$nextTick = nextTick\n}","import { isReservedTag, isObject } from \"../util/index\";\n\n/* 创建元素 */\nexport function createElement(vm, tag, data = {}, ...children) {\n  let key = data.key;\n  if (key) {\n    delete data.key;\n  }\n  if (isReservedTag(tag)) {\n    return vnode(tag, data, key, children, undefined);\n  } else {\n    //组件的构造函数\n    let Ctor = vm.$options.components[tag];\n    return createComponent(vm, tag, data, key, children, Ctor);\n  }\n}\n/* 创建组件 */\nfunction createComponent(vm, tag, data, key, children, Ctor) {\n  if (isObject(Ctor)) {\n    Ctor = vm.$options._base.extend(Ctor);\n  }\n  data.hook = {\n    init(vnode) {\n      // 当前组件的实例 就是componentInstance\n      let child = (vnode.componentInstance = new Ctor({ _isComponent: true }));\n      // 组件的挂载 vm.$el\n      child.$mount(); // vnode.componentInstance.$el\n    },\n  };\n  //组件没有 children，后面的 children 是指插槽\n  return vnode(`vue-component-${Ctor.cid}-${tag}`, data, key, undefined, {\n    Ctor,\n    children,\n  });\n}\n/* 创建文本 */\nexport function createTextNode(vm, text) {\n  return vnode(undefined, undefined, undefined, undefined, text);\n}\n\nfunction vnode(tag, data, key, children, text, componentOpions) {\n  return {\n    tag,\n    data,\n    key,\n    children,\n    text,\n    componentOpions,\n  };\n}\n","import { createElement, createTextNode } from './vdom/create-element'\n\nexport function renderMixin(Vue){\n  //_c 创建元素的虚拟节点\n  Vue.prototype._c = function(){\n    return createElement(this, ...arguments)\n  }\n  //_v 创建文本的虚拟节点\n  Vue.prototype._v = function(text){\n    return createTextNode(this, text)\n  }\n  //_s JSON.stringify\n  Vue.prototype._s = function(val){\n    return val == null ? '': (typeof val === 'object' ? JSON.stringify(val) : val)\n  }\n\n  Vue.prototype._render = function(){\n    const vm = this\n    const { render } = vm.$options\n    let vnode = render.call(vm)\n    return vnode\n  }\n}","import { mergeOptions } from '../util/index'\n\nexport default function initMixin (Vue) {\n  Vue.mixin = function(mixin){\n    this.options = mergeOptions(this.options, mixin)\n  }\n}","export const ASSETS_TYPE = [\n  'component',\n  'directive',\n  'filter'\n]","import { ASSETS_TYPE } from \"./const\";\n\nexport default function initAssetRegisters(Vue) {\n  ASSETS_TYPE.forEach((type) => {\n    //根据 type 分别处理\n    Vue[type] = function (id, definition) {\n      if (type === \"component\") {\n        // 注册全局组件\n        // 使用extend 方法 将对象变成构造函数\n        // 子组件可能也有这个VueComponent.component方法\n        definition = Vue.extend(definition);\n      } else if (type === \"filter\") {\n      } else if (type === \"directive\") {\n      }\n      this.options[type + \"s\"][id] = definition;\n    };\n  });\n}\n","import {mergeOptions} from '../util/index'\n\nexport default function initExtend(Vue){\n  let cid = 0\n  //父类中有公共的方法 子类继承父类\n  Vue.extend = function(extendOptions){\n    const Sub = function VueComponent(options){\n      this._init(options)\n    }\n    Sub.cid = cid++\n    Sub.prototype = Object.create(this.prototype)\n    Sub.prototype.constructor = Sub\n    Sub.options = mergeOptions(\n      this.options,\n      extendOptions\n    )\n    return Sub\n  }\n}","import initMixin from './mixin'\nimport {ASSETS_TYPE} from './const'\nimport initAssetRegisters from './assets.js'\nimport initExtend  from './extend'\n\nexport function initGlobalAPI(Vue){\n  //整合了全局相关的内容\n  Vue.options = {}\n  //初始化 mixin 方法\n  initMixin(Vue)\n  // 初始化的全局过滤器 指令  组件\n  ASSETS_TYPE.forEach(type=>{\n    Vue.options[type+'s'] = {}\n  });\n  // _base 是 Vue 的构造函数\n  Vue.options._base = Vue;\n  // 注册extend方法\n  initExtend(Vue)\n  initAssetRegisters(Vue)\n}","import { initMixin } from './init'\nimport { renderMixin } from './render'\nimport { lifeCycleMixin } from './lifeCycle'\nimport { initGlobalAPI } from './initGlobalAPI/index'\n\nfunction Vue (options) {\n  this._init(options)\n}\n\ninitMixin(Vue)\nrenderMixin(Vue)\nlifeCycleMixin(Vue)\n\n//初始化全局api\ninitGlobalAPI(Vue)\n\nexport default Vue"],"names":["isObject","data","def","key","value","Object","defineProperty","enumerable","configurable","proxy","vm","source","get","set","newValue","LIFECYCLE_HOOKS","strats","forEach","hook","mergeHook","components","mergeAssets","parentVal","childVal","res","create","concat","mergeOptions","parent","child","options","hasOwnProperty","mergeField","isReservedTag","tagName","str","obj","split","tag","oldArrayMethods","Array","prototype","arrayMethods","methods","method","console","log","args","result","apply","inserted","ob","__ob__","slice","observeArray","dep","notify","id","Dep","subs","target","addDep","watcher","update","push","stack","pushTarget","popTarget","pop","length","Observer","isArray","__proto__","walk","keys","defineReactive","observe","childOb","depend","dependArray","i","current","initState","opts","$options","props","initData","computed","watch","_data","call","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","root","currentParent","ELEMENT_TYPE","TEXT_TYPE","createASTElement","attrs","type","children","start","element","chars","text","replace","end","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","genProps","item","JSON","stringify","genChildren","el","map","c","gen","join","node","generate","tokens","index","lastIndex","exec","trim","code","compileToFunction","template","renderFn","Function","callbacks","waiting","flushCallback","cb","nextTick","setTimeout","queue","has","flushSchedularQueue","run","queueWatcher","Watcher","exprOrFn","callback","getter","depsId","Set","deps","add","addSub","patch","oldVnode","vnode","createElm","isRealElement","nodeType","oldElm","parentElm","parentNode","insertBefore","nextSibling","removeChild","createComponent","componentInstance","$el","document","createElement","updateProperties","appendChild","createTextNode","newProps","styleName","style","className","setAttribute","init","lifeCycleMixin","Vue","_update","mountComponent","callHook","updateComponent","_render","handlers","initMixin","_init","constructor","$mount","querySelector","render","outerHTML","$nextTick","undefined","Ctor","_base","extend","_isComponent","cid","componentOpions","renderMixin","_c","arguments","_v","_s","val","mixin","ASSETS_TYPE","initAssetRegisters","definition","initExtend","extendOptions","Sub","VueComponent","initGlobalAPI"],"mappings":"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"}